<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GT7 Sezóna 2025</title>
  <link rel="stylesheet" href="GT7style.css">
</head>
<body>
  <header>
    <h1>🏁 GT7 Sezóna 2025</h1>
    <p>Oficiální přehled závodů, výsledků a statistik</p>
  </header>

  <nav class="tabs">
    <button onclick="showTab('home')" class="tab active">Domů</button>
    <button onclick="showTab('archive')" class="tab">Archiv</button>
    <button onclick="showTab('hall')" class="tab">Hall of Fame</button>
    <button onclick="showTab('head2head')" class="tab">Head 2 Head</button>
    <button onclick="showTab('profile')" class="tab">Profil</button>
    <button onclick="showTab('admin')" class="tab">Admin</button>
  </nav>

  <!-- Nadcházející závod -->
  <section id="upcoming" class="section">
    <h2>🏎️ Nadcházející závod</h2>
    <div id="next-race-container" class="next-race"></div>
  </section>

  <!-- Hlavní přehled -->
  <main id="home" class="tab-content active">
    <canvas id="points-chart"></canvas>
    <div id="stats-container"></div>
    <div id="past-races" class="races"></div>
  </main>

  <!-- Archiv -->
  <section id="archive" class="tab-content hidden">
    <h2>📚 Archiv závodů</h2>
    <div id="archive-content"></div>
  </section>

  <!-- Hall of Fame -->
  <section id="hall" class="tab-content hidden">
    <h2>🏆 Hall of Fame</h2>
    <div id="hall-of-fame"></div>
    <canvas id="hall-bar-chart"></canvas>
    <div id="fun-facts"></div>
  </section>

  <!-- Head to Head -->
  <section id="head2head" class="tab-content hidden">
    <h2>⚔️ Head-to-Head</h2>
    <div class="head2head-form">
      <label for="head2head-driver1">Jezdec 1:</label>
      <select id="head2head-driver1"></select>
      <label for="head2head-driver2">Jezdec 2:</label>
      <select id="head2head-driver2"></select>
      <button onclick="compareDrivers()">Porovnat</button>
    </div>
    <div id="head2head-result"></div>
  </section>

  <!-- Profil -->
  <section id="profile" class="tab-content hidden">
    <h2>👤 Můj profil</h2>
    <div id="profile-section">
      <img src="https://www.gravatar.com/avatar?d=mp&s=100" alt="Avatar" class="avatar">
      <div id="profile-name">Nepřihlášený uživatel</div>
      <div id="profile-team"></div>
    </div>
    <div id="profile-edit" class="hidden">
      <h3>Upravit profil</h3>
      <input type="text" id="edit-name" placeholder="Závodní přezdívka">
      <input type="text" id="edit-team" placeholder="Tým">
      <button onclick="saveProfile()">Uložit profil</button>
    </div>
    <div id="profile-note">
      <p>Pro úpravu profilu se přihlas.</p>
    </div>
  </section>

  <!-- Admin -->
  <section id="admin" class="tab-content hidden">
    <h2>🛠️ Admin sekce</h2>
    <div id="admin-forms" class="hidden">
      <form id="race-form">
        <h3>Přidat / upravit závod</h3>
        <input type="hidden" id="edit-id">
        <label>Datum <input type="datetime-local" id="race-date" required></label>
        <label>Okruh <input type="text" id="circuit-name" required></label>
        <label>Povolená auta <input type="text" id="allowed-cars"></label>
        <label>PP limit <input type="number" id="pp-limit"></label>
        <label>BoP <select id="bop"><option>Vypnuto</option><option>Zapnuto</option></select></label>
        <label>Tuning <select id="tuning"><option>Povolen</option><option>Zakázán</option></select></label>
        <label>Kategorie pneumatik <select id="tire-cat"><option>Komfortní</option><option>Sportovní</option><option>Závodní</option></select></label>
        <label>Povinná směs <select id="tire-comp"><option>Bez povinné směsi</option><option>Měkká</option><option>Střední</option><option>Tvrdá</option></select></label>
        <label>Počet kol <input type="number" id="laps"></label>
        <label>Spotřeba paliva (x) <input type="number" id="fuel" min="1" max="10" step="1"></label>
        <label>Opotřebení pneumatik (x) <input type="number" id="wear" min="1" max="10" step="1"></label>
        <label>Rychlost tankování (l/s) <input type="number" id="refuel" min="1" max="10"></label>
        <button type="submit" class="btn">Uložit závod</button>
      </form>
    </div>
    <button id="btn-signin">Přihlásit se (admin)</button>
    <button id="btn-signout" class="hidden">Odhlásit se</button>
    <p id="user-email"></p>
    <div id="not-admin">Pouze pro administrátora.</div>
  </section>

  <script type="module" src="./GT7script.js"></script>
</body>
</html>
