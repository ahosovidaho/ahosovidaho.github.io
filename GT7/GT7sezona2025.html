<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GT7 Racing Championship 2025</title>
  <link rel="stylesheet" href="GT7style.css">
  <script>
    // Robust global showTab - works even without event
    window.showTab = function(tab, evt) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

      if (evt && evt.target) {
        evt.target.classList.add('active');
      } else {
        const btn = Array.from(document.querySelectorAll('.tab')).find(b => {
          const oc = b.getAttribute('onclick') || '';
          return oc.includes("'" + tab + "'") || oc.includes('"' + tab + '"') || oc.includes(tab);
        });
        if (btn) btn.classList.add('active');
      }

      document.querySelectorAll('[id$="-tab"]').forEach(el => el.classList.add('hidden'));

      const panel = document.getElementById(tab + '-tab');
      if (panel) panel.classList.remove('hidden');
    };
  </script>
</head>
<body>
  <div class="container">
    <header>
      <h1>🏁 GT7 Racing Championship 2025</h1>
      <div class="small">Oficiální přehled závodů, výsledků a statistik</div>
    </header>

    <div class="tabs">
      <button class="tab active" onclick="showTab('current', event)">Aktuální sezóna</button>
      <button class="tab" onclick="showTab('archive', event)">Archiv</button>
      <button class="tab" onclick="showTab('hall', event)">Hall of Fame</button>
      <button class="tab" onclick="showTab('admin', event)">Admin</button>
    </div>

    <div id="current-tab">
      <div class="section">
        <h2>🏎️ Aktuální sezóna</h2>
        <p>Test — aktuální sezóna zobrazuje obsah správně ✅</p>
      </div>
    </div>

    <div id="archive-tab" class="hidden">
      <div class="section">
        <h2>Archiv sezón</h2>
        <p>Test — archiv zobrazen správně ✅</p>
      </div>
    </div>

    <div id="hall-tab" class="hidden">
      <div class="section">
        <h2>Hall of Fame 🏆</h2>
        <p>Test — Hall of Fame funguje ✅</p>
      </div>
    </div>

    <div id="admin-tab" class="hidden">
      <div class="section">
        <h2>Admin panel</h2>
        <p>Test — Admin panel funguje ✅</p>
      </div>
    </div>
  </div>

  <script src="GT7script.js" type="module"></script>
</body>
</html>